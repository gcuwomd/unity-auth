(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{84616:function(e,s,r){Promise.resolve().then(r.bind(r,35681))},35681:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return p}});var t=r(23198),n=r(35664),o=r.n(n),a=r(93791),l=r(54755),i=r(58872),c=r(24586),d=r(19085),h=r(56303);let m=h.Z.create({baseURL:"http://127.0.0.1:8080",headers:{"Content-Type":"application/json"}});var u=r(60549);function p(){let[e]=l.Z.useForm(),s=(0,d.useRouter)();return(0,u.useRef)(),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.Z,{bodyStyle:{width:"432px",padding:"48px"},className:"shadow-lg",children:(0,t.jsxs)(l.Z,{form:e,layout:"vertical",onFinish:e=>{let s=new URLSearchParams;Object.keys(e).map(r=>{s.append(r,e[r])}),m.post("/login",s,{maxRedirects:0,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(e=>{let s=e.headers.location;console.log(e.headers),console.log(s)}).catch(e=>{console.log(e)})},action:"/login",method:"post",children:[(0,t.jsx)(l.Z.Item,{label:"学号",name:"username",rules:[{required:!0,validator:(e,s)=>s?/^20(19|[2-9][0-9])\d{8}$/.test(s)?Promise.resolve():Promise.reject("输入的学号格式不合法"):Promise.reject("请输入学号")}],children:(0,t.jsx)(i.Z,{placeholder:"请输入学号"})}),(0,t.jsx)(l.Z.Item,{label:"密码",name:"password",rules:[{required:!0,validator:(e,s)=>s?/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])|(?=.*\d)(?=.*[A-Z])|(?=.*\d)(?=.*[a-z])|(?=.*[a-z])(?=.*[!@#$%^&*])|(?=.*\d)(?=.*[a-zA-Z])(?=.*[!@#$%^&*])[a-zA-Z\d!@#$%^&*]+$/.test(s)?Promise.resolve():Promise.reject("密码格式不正确"):Promise.reject("请输入密码")}],children:(0,t.jsx)(i.Z.Password,{placeholder:"请输入密码"})}),(0,t.jsx)(l.Z.Item,{children:(0,t.jsx)(o(),{type:"primary",htmlType:"submit",className:"w-full bg-[#1677ff]",children:"登录"})})]})}),(0,t.jsxs)("section",{className:"mt-10",children:[(0,t.jsx)(c.Z.Text,{type:"secondary",children:"还没有账号？"}),(0,t.jsx)(c.Z.Link,{onClick:()=>{s.push("/register")},children:"点击快速注册"})]})]})}}},function(e){e.O(0,[220,755,303,54,204,744],function(){return e(e.s=84616)}),_N_E=e.O()}]);